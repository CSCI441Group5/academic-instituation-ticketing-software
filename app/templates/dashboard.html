<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Dashboard - Automated School Ticketing System</title>
        <!-- Loads the CSS file from Flaskâ€™s static folder -->
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='styles.css') }}"
        />
    </head>
    <body>
        <h1>My Tickets</h1>
        <p>
            <a href="{{ url_for('auth.new_ticket') }}">
                <button type="button">Create New Ticket</button>
            </a>
        </p>

        <!-- If tickets exist, render each one -->
        {% if tickets %} {% for ticket in tickets %}
        <hr />
        <p><strong>Ticket #{{ ticket["id"] }}</strong></p>
        <p>Submission Date: {{ ticket["created_at"] }}</p>
        <p>Status: {{ ticket["status"] }}</p>
        <p>Category: {{ ticket["category"] }}</p>
        <p>Description: {{ ticket["description"] }}</p>
        {% endfor %} {% else %}
        <!-- Shown when no tickets have been submitted yet -->
        <p>No tickets submitted yet.</p>
        {% endif %}
    </body>
</html>
